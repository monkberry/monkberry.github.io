{
  "name": "Monkberry",
  "tagline": "Monkberry is a JavaScript library for building web user interfaces",
  "body": "# Monkberry\r\n[![Build Status](https://travis-ci.org/monkberry/monkberry.svg?branch=master)](https://travis-ci.org/monkberry/monkberry)\r\n\r\nMonkberry is **blazingly fast**, **small `1kb`** and **simple** JavaScript library for building **web user interfaces**.\r\n\r\n## Example\r\n\r\nMonkberry comes with powerfull templating engine, which is compiled to JavaScript.\r\n\r\n```twig\r\n<ol>\r\n  {% for todos %}\r\n    <li>\r\n      {% if complete %}\r\n        <del>{{ text }}</del>\r\n      {% else %}\r\n        <em>{{ text }}</em>\r\n      {% endif %}\r\n    </li>\r\n  {% endfor %}\r\n</ol>\r\n```\r\n\r\nand then\r\n\r\n```js\r\nimport Monkberry from 'monkberry';\r\nimport Template from 'template.monk';\r\n\r\nconst view = Monkberry.render(Template, document.body);\r\n\r\nview.update({todos: [...]});\r\n```\r\n\r\n## Features\r\n\r\n* Small **`1kb`** minified & gzipped\r\n* Simple, small learning curve\r\n* Fully tested\r\n* Precompiled templates\r\n* SourceMaps\r\n* Custom tags\r\n* Blazingly fast (only necessary dom updates)\r\n\r\n## Documentation\r\n\r\nDocumentation available on [monkberry.js.org](http://monkberry.js.org) site.\r\n\r\n## Table of Contents\r\n\r\n  - [Example](#example)\r\n  - [Documentation](#documentation)\r\n    - [Getting Started](#getting-started)\r\n    - [Expressions](#expressions)\r\n    - [If, Else](#if-else)\r\n    - [For](#for)\r\n    - [Default values](#default-values)\r\n    - [Filters](#filters)\r\n    - [Custom tags](#custom-tags)\r\n    - [Spread attributes](#spread-attributes)\r\n    - [Importing](#importing)\r\n    - [Event Handling](#event-handling)\r\n    - [Globals](#globals)\r\n    - [Prerender](#prerender)\r\n    - [Transforms](#transforms)\r\n    - [Unsafe](#unsafe)\r\n    - [Comments](#comments)\r\n    - [Blocks](#blocks)\r\n  - [API Reference](#api-reference)\r\n    - [Monkberry](#monkberry)\r\n      - [monkberry.render(template, node[, options])](#monkberryrendername-values-nocache)\r\n      - [monkberry.prerender(template, times)](#monkberryprerendername-times) \r\n      - [Monkberry.prototype.appendTo(toNode)](#viewappendtotonode)\r\n      - [Monkberry.prototype.insertBefore(toNode)](#viewinsertbeforetonode)\r\n      - [Monkberry.prototype.createDocument()](#viewcreatedocument)\r\n      - [Monkberry.prototype.update(data)](#viewupdatedata)\r\n      - [Monkberry.prototype.remove()](#viewremoveforce)\r\n      - [Monkberry.prototype.querySelector(query)](#viewqueryselectorquery)\r\n  - [Tests](#tests)\r\n  - [Plugins](#plugins)\r\n  - [Benchmarks](#benchmarks)\r\n\r\n## Example\r\n\r\nMonkberry will compile this template:\r\n```html\r\n<div>\r\n  <h1>{{ title }}</h1>\r\n  <p>\r\n    {{ text }}\r\n  </p>\r\n</div>\r\n```\r\n\r\nTo JavaScript code like this:\r\n```js\r\nvar div = document.createElement('div');\r\nvar h1 = document.createElement('h1');\r\nvar p = document.createElement('p');\r\n\r\ndiv.appendChild(h1);\r\ndiv.appendChild(p);\r\n\r\n   ...\r\n\r\nview.update = function (data) {\r\n  h1.textContent = data.title;\r\n  p.textContent = data.text;\r\n};\r\n```\r\n\r\nWhich can be used like that: \r\n```js\r\nvar view = Monkberry.render(template, document.body);\r\n\r\nview.update({\r\n  title: 'Monkberry',\r\n  text: 'JavaScript DOM template engine'\r\n});\r\n```\r\n\r\n## Documentation\r\n\r\n### Getting Started\r\n\r\nMonkberry has support for both browserify via [monkberrify](https://github.com/monkberry/monkberrify) and for webpack via [monkberry-loader](https://github.com/monkberry/monkberry-loader). \r\n\r\nMonkberry can be used like CLI tool. Install Monkberry globally:\r\n\r\n```\r\nnpm install monkberry -g\r\n```\r\n\r\nTo compile all templates into single JavaScript file with source map run next command:\r\n\r\n```\r\nmonkberry --source-map --output template.js templates/*.html\r\n```\r\n\r\nRequire generated `template.js` and `monkberry.js` files and render that view.\r\n\r\n```js\r\nvar Monkberry = require('monkberry');\r\nvar Template = require('./template.js');\r\n\r\nvar view = Monkberry.render(Template, document.body);\r\n```\r\n\r\n\r\nNow, to update data of view on page:\r\n\r\n```js\r\nview.update({...});\r\n// or update only what's needed\r\nview.update({key: value});\r\n```\r\n\r\n### Expressions\r\n\r\nMonkberry perceives everything inside `{{` and `}}` mustache as JavaScript expression.\r\n\r\n```html\r\n<div class=\"greetings {{ visible ? '' : 'hidden' }}\">\r\n  Hello, {{ user.name + \"!\" }}\r\n</div>\r\n```\r\n\r\n### If, Else\r\nCan be any valid JavaScrpt expressions.\r\n```twig\r\n{% if count < 0 || count > 10 %}\r\n  ...\r\n{% else %}\r\n  ...\r\n{% endif %}\r\n```\r\nAny number on variables in `if`:\r\n```twig\r\n{% if array.indexOf(search) != -1 %}\r\n  ...\r\n{% endif %}\r\n```\r\n\r\n> Note what Monkberry update only one of `if`/`else` block.\r\n> ```twig\r\n> {% if check %}\r\n>   Then {{ value }}!\r\n> {% else %}\r\n>   Else {{ value }}!\r\n> {% endif %}\r\n> ```\r\n> Render that template:\r\n> ```js\r\n> var view = Monkberry.render(Example, document.body);\r\n> view.update({\r\n>   check: true,\r\n>   value: 'one'\r\n> });\r\n> ```\r\n> View will be `Then one!`. When if update view:\r\n> ```js\r\n> view.update({\r\n>   check: false,\r\n>   value: 'two'\r\n> });\r\n> ```\r\n> View will be `Else two!`. But if update only `check`, variable of then part will be same as before.\r\n> ```js\r\n> view.update({check: true});\r\n> ```\r\n> View will be `Then one!`. \r\n>\r\n> This is happens because Monkberry does not stores variables passed to `update` function, it stores only DOM nodes.\r\n> Monkberry will update only one part of `if`/`else`.\r\n\r\n### For\r\n\r\nMonkberry can loop other arrays and objects as well. \r\n\r\n```twig\r\n{% for array %}\r\n  {{ name }}\r\n{% endfor %}\r\n```\r\nIn this form, body of `for` has access only for variables iterating on.\r\n```js\r\nview.update({\r\n  array: [\r\n    {name: 'Anton'},\r\n    ...\r\n  ]\r\n});\r\n```\r\n\r\nTo access outer scope specify iterator name.\r\n\r\n```twig\r\n{% for user of array %}\r\n  {{ user.name }}\r\n{% endfor %}\r\n```\r\n\r\nAlso key can be specified.\r\n```twig\r\n{% for key, user of array %}\r\n  {{ key }}: {{ user.name }}\r\n{% endfor %}\r\n```\r\n\r\n### Default values\r\n\r\n```twig\r\n<div class=\"foo {{ modify || 'baz' }}\">\r\n    {{ content || \"No content\" }}\r\n</div>\r\n```\r\n\r\nView rendered without data will be filled with default data:\r\n\r\n```twig\r\n<div class=\"foo baz\">\r\n    No content\r\n</div>\r\n```\r\n\r\nNote if you will use some variable in right side of _OR_ operator, what can't be used as default data.\r\n  \r\n```twig\r\n{{ content || \"No content\" + foo }}\r\n```\r\n\r\n\r\n\r\n### Filters\r\n\r\nAny expression support filter statement.\r\n```twig\r\nHello, {{ user.name | upper }}\r\n```\r\n\r\nTo define that filter:\r\n```js\r\nTemplate.filters.upper = function (text) {\r\n  return text.toUpperCase();\r\n};\r\n```\r\n\r\nAlso Monkberry understand parameters for filters:\r\n```js\r\ntemplate.filters.replace = function (text, from, to) {\r\n  return text.replace(from, to);\r\n};\r\n```\r\n\r\n```twig\r\n{{ text | replace(/.../, '$1') }}\r\n```\r\n\r\nAnd allow to combine filters:\r\n```twig\r\n{{ text | lower | replace(/.../, '$1') | upper }}\r\n```\r\n\r\nThat expression will be compiled to next JavaScript:\r\n```js\r\nupper(replace(lower(text), /.../, '$1'));\r\n```\r\n\r\nFilters can be used in expressions, `if` and `for` statements.\r\n\r\n### Custom tags\r\n\r\nCustom tag template `greet.monk`:\r\n```twig\r\n<div>\r\n  {{ value }}, {{ name }}!\r\n</div>\r\n```\r\n\r\nTo render that custom tag in another template:\r\n\r\n```twig\r\n{% import greet from './greet.monk' %}\r\n<greet value=\"Hello\" name=\"world\">\r\n<greet value=\"Hello\" name=\"{{ user.name }}\">\r\n```\r\n\r\n### Spread attributes\r\n\r\nSpread attributes allow easily convert object into node attributes.  \r\nThe properties of the object that you pass in are copied onto the node's attributes.\r\n\r\n```twig\r\n<input {{...attr}}/>\r\n```\r\n\r\n```js\r\nview.update({attr: {\r\n  id: 'foo', \r\n  value: 'baz'\r\n}});\r\n```\r\n\r\nYou can combine it with other attributes.\r\n\r\n```twig\r\n<input {{...attr}} value={{ value }}/>\r\n```\r\n\r\nNote what later updates of attributes override previous ones.\r\n\r\n```js\r\nview.update({value: 'baz'});\r\n// ...\r\nview.update({attr: {value: 'new baz'}}); // Will override previous value.\r\n```\r\n\r\nSpread operator also works well with custom attributes. In fact, this is best way to pass data into custom tag. \r\n \r\n```twig\r\n<my-tag {{...attr}}/>\r\n``` \r\n \r\n```twig\r\n<my-tag>\r\n    <input type={{ type }} value={{ value }}>\r\n</my-tag>\r\n``` \r\n\r\n### Importing\r\n\r\nIt is possible to require template within another template. \r\n  \r\n```twig\r\n{% import Component './Component.monk' %}\r\n\r\n    <Component/>\r\n \r\n```\r\n\r\nAlso it's possible to include any JS file or module:\r\n\r\n```twig\r\n{% import upperCase 'upper-case' %}\r\n// ...\r\n{{ upperCase(name) }}\r\n```\r\n\r\n### Event Handling\r\n\r\nThere are a few ways to deal with event handling in Monkberry.\r\nAdd event listener to node directly: \r\n \r\n```js\r\nview.querySelector('.button').addEventListener('click', function (event) {\r\n    ...\r\n});\r\n```\r\n\r\nBut this is difficult when dealing with conditions and loops.\r\n\r\nBetter approach is to use [event delegating](https://github.com/monkberry/events).\r\n\r\n```js\r\nview.on('click', '.button', function (event) {\r\n    ...\r\n});\r\n```\r\n\r\n### Globals\r\n\r\nMonkberry also support global variables. This is very usefull if using `window` variable inside of templates. \r\nOr if using translation function like this: `{{ __('greeting') + userName }}`. \r\n\r\nTo do it, you need to specify globals as array of variables names for compiler to pass. Read monkberry loaders docs for more info.   \r\n\r\n### Prerender\r\n\r\nTo speedup render Monkberry can prerender DOM nodes to use them in future.\r\n\r\n```js\r\nMonkberry.prerender(Template, 10); // Preprender template 10 times.\r\n```\r\n\r\nThen next `render` call will use one of these prerendered views:\r\n```js\r\nMonkberry.render(Template, node); // Will use already created DOM nodes.\r\n```\r\n\r\nThis is very usefull to do then browser waiting some xhr request.\r\n\r\n### Transforms\r\n\r\nTransformers allow to modify [AST](https://en.wikipedia.org/wiki/Abstract_syntax_tree) before compilation of templates. \r\nList of AST nodes can be founded here: [ast.js](https://github.com/monkberry/parser/blob/master/src/ast.js)\r\nExample of transform which trim whitespaces: [whitespace.js](https://github.com/monkberry/monkberry/blob/master/src/optimize/whitespace.js)\r\n\r\nAdd transforms to Monkbeery before compilation:\r\n```js\r\nimport { Compiler } from 'monkberry';\r\nimport { myTransform } from './myTransform';\r\n\r\nvar compiler = new Compiler();\r\ncompiler.transforms.custom = myTransform;\r\n```\r\n\r\n### Unsafe\r\n\r\nMonkberry escape all inserted variables by default. But if some times you want to insert \r\nsome HTML template via variable you can you _unsafe_ statement which is using `innerHTML`. \r\nImproper use of the _unsafe_ statement can open you up to a [cross-site scripting (XSS)](https://en.wikipedia.org/wiki/Cross-site_scripting) attack. \r\n\r\n```twig\r\n{% unsafe '<a href=\"XSS\">...</a>' %}\r\n{% unsafe html %}\r\n```\r\n\r\n### Comments\r\n\r\nYou can use standard html comments.\r\n \r\n```twig\r\n<!-- Comment does here -->\r\n```\r\n\r\nComments will be cut out from template. \r\n\r\n## API Reference\r\n\r\nMonkberry API strictly follows [semantic versioning](http://semver.org).  \r\n\r\n### Monkberry\r\n  \r\n#### Monkberry.render(template, node, options)\r\n\r\nRender template, and returns new `Monkberry` instance.\r\n\r\n#### Monkberry.prerender(template, times)\r\n\r\nGenerates views for future calls of render method.\r\n\r\n#### Monkberry.prototype.appendTo(toNode)\r\n\r\nAppend rendered view nodes to specified node.\r\n\r\n* `toNode`: `Element` - DOM node.\r\n\r\n#### Monkberry.prototype.insertBefore(toNode)\r\n\r\nInsert rendered view nodes before specified node.\r\n\r\n* `toNode`: `Element` - DOM node.\r\n\r\n#### Monkberry.prototype.createDocument()\r\n\r\nReturn view's nodes. Note what if your template contains more then one root element, `createDocument` function will \r\nreturn `DocumentFragment` what contains all these nodes. If you have only one root node, it will be returned as is.\r\n\r\n#### Monkberry.prototype.update(data)\r\n\r\nUpdate rendered template with new data. You can specify only part of data to update or update entire data.\r\n\r\n* `data`: `Object|Array` - values to update in template.\r\n\r\nExample:\r\n\r\n```js\r\nvar data = {\r\n    title: 'Title #1',\r\n    content: '...'\r\n};\r\n\r\nview.update({title: 'Title #2'});\r\n```\r\n\r\n#### Monkberry.prototype.remove([)\r\n\r\nRemove view's nodes from document, and puts it to pool for future reuse.\r\n\r\n\r\n#### view.querySelector(query)\r\n\r\nSelect node by query.\r\n\r\n* `query`: `string` - query to select node.\r\n\r\n> Note what this function uses [Element.matches()](https://developer.mozilla.org/en-US/docs/Web/API/Element/matches) for checking root nodes. Include polyfill for matches if you use it.\r\n\r\nIf you template contains more then one nodes on first level, `querySelector` will look other all subtrees. Array of all top level nodes can be accessed by `view.nodes[]` array. \r\n\r\n> Note what querySelector can not work with template which have if/for/custom node on first level.\r\n> ```twig\r\n> {% if cond %}\r\n>     ...\r\n> {% endif %}\r\n> ```\r\n> You will got exception like this: `Can not use querySelector with non-element nodes on first level.`\r\n> \r\n> Solution is to wrap such statement into another node:\r\n> ```twig\r\n> <div>\r\n>     {% if cond %}\r\n>         ...\r\n>     {% endif %}\r\n> </div>\r\n> ``` \r\n\r\n\r\n## Tests\r\n\r\nMonkberry uses [Jasmine](http://jasmine.github.io) and [testem](https://github.com/airportyh/testem). To run test locally run:\r\n```\r\ntestem ci\r\n```\r\n\r\n## Plugins\r\n\r\n* [Atom Package](https://atom.io/packages/language-monkberry)\r\n* [Sublime Text Package](https://github.com/monkberry/language-monkberry)\r\n\r\n## Benchmarks\r\n\r\nBenchmarks covers a few use cases, and compare Monkberry with [React](https://facebook.github.io/react/) and innerHTML.\r\nAlso it's contains real site code for tests.\r\n\r\n* [monkberry.js.org/benchmark](http://monkberry.github.io/benchmark/)",
  "google": "UA-72802692-1",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}